"use strict"

//function to display contact info
function displayContact(){
  document.getElementById("show").style.display = "block";
  document.getElementsByClassName("btn")[0].style.display = "none";
}
let show = document.getElementById("show");
let span = document.getElementsByClassName("close")[0];
span.onclick = function(){
  show.style.display = "none";
  document.getElementsByClassName("btn")[0].style.display = "block";
}



//coordinates for Bucharest
  let coordinates_str = "44.3854370117188 26.0364856719971,44.3874053955079 26.0390319824219,44.3892784118653 26.0351657867432,44.3924407958986 26.0319137573243,44.3904495239258 26.0274925231934,44.392261505127 26.0119400024414,44.4072036743164 26.0047492980958,44.4033432006835 26.0035228729248,44.4063873291017 25.9970703125,44.4054985046388 25.9959926605226,44.4095840454103 25.9944038391114,44.4093437194825 25.9943237304689,44.4098854064943 25.9899826049806,44.4086570739746 25.9829578399659,44.4087867736816 25.9765872955323,44.4075431823731 25.9702568054199,44.4191055297852 25.9657516479493,44.4186058044434 25.9647521972657,44.4221611022949 25.9664897918701,44.4231605529786 25.9686603546144,44.4238052368164 25.9680614471436,44.4248847961426 25.9672832489014,44.4310569763185 25.9673156738281,44.433048248291 25.9656791687011,44.4328079223633 25.9656524658204,44.4336929321289 25.9643726348878,44.4337043762208 25.9639358520508,44.4365844726562 25.9653015136719,44.436637878418 25.965093612671,44.4373664855958 25.9630184173585,44.4372253417969 25.9621829986573,44.4373588562013 25.9606552124023,44.4383506774902 25.9609336853027,44.4390449523926 25.961820602417,44.4394187927247 25.9622364044189,44.4393386840821 25.9626560211182,44.4392662048341 25.9630775451661,44.4392013549804 25.9634990692139,44.4391441345215 25.9639244079591,44.4390945434571 25.9643516540527,44.4390487670898 25.9647789001465,44.4390106201171 25.9652080535889,44.4389839172363 25.9656372070312,44.4389572143556 25.9660663604736,44.4389419555665 25.9664974212646,44.4389343261719 25.9669284820558,44.4389305114746 25.9663734436036,44.4426002502441 26.0126247406007,44.4446182250977 26.0191650390626,44.4476890563964 26.0200443267822,44.4501152038575 26.0189952850342,44.4505996704103 26.0182914733888,44.4506034851074 26.0162544250488,44.4502754211426 26.0150241851806,44.4506340026856 26.0145053863525,44.4511451721191 26.0147113800049,44.4528503417969 26.0142822265625,44.453598022461 26.0146579742432,44.4547348022462 26.0139694213868,44.4557838439942 26.0140686035156,44.4563827514648 26.014654159546,44.4570732116699 26.0139617919922,44.4579620361328 26.0127410888672,44.4587326049805 26.0039081573487,44.4609298706056 26.0024223327637,44.4617347717286 26.0008773803711,44.4616851806642 26.0002155303955,44.461784362793 25.999605178833,44.4622039794922 25.9939899444581,44.4640846252443 25.9924068450929,44.4644775390626 25.9907932281495,44.465503692627 25.9898185729981,44.4653854370117 25.9886398315431,44.4660606384277 25.9836425781251,44.4679679870605 25.9807205200196,44.4675178527833 25.9796543121338,44.467056274414 25.9782543182374,44.4679222106934 25.9766216278076,44.4674110412598 25.9760150909424,44.4680480957031 25.9766025543213,44.4688339233398 25.9800071716309,44.4718093872071 25.9805660247804,44.4735755920411 25.9810237884521,44.4771423339845 25.9809188842774,44.4787254333497 25.9815216064454,44.4804878234864 25.9841632843018,44.4851417541504 25.9875030517579,44.4922103881837 25.9839515686036,44.493724822998 25.9843254089357,44.4950180053712 25.9832954406739,44.4966697692872 25.9839744567872,44.4976768493652 25.9844875335694,44.4992218017579 25.9879837036133,44.4997596740722 25.9887466430665,44.5003852844238 25.9932956695557,44.4977836608887 25.9937152862549,44.4965782165527 25.9948329925538,44.4973297119142 25.9955291748046,44.4968795776368 25.9961185455323,44.4976348876953 26.0005416870117,44.5015144348145 26.0013065338135,44.5016822814941 26.0031585693359,44.5014152526856 26.0053329467774,44.5020599365235 26.0054931640625,44.5020904541017 26.005657196045,44.5021133422853 26.0058212280273,44.5021324157715 26.0059890747071,44.5021438598632 26.006155014038,44.5021514892578 26.0063228607179,44.5021476745606 26.0064888000488,44.5021400451661 26.0066547393799,44.502124786377 26.0068187713624,44.5021057128907 26.0069828033448,44.5020751953126 26.0071411132814,44.5020446777344 26.0074748992921,44.5033683776857 26.0078010559083,44.5046920776367 26.00811958313,44.506015777588 26.0084304809571,44.5073432922364 26.0087337493897,44.5086708068849 26.0090274810792,44.5099983215333 26.0093154907227,44.5113296508789 26.009593963623,44.5126571655273 26.0098648071289,44.5139808654786 26.0085601806641,44.5150337219238 26.0093612670899,44.5154418945314 26.0086650848389,44.5159530639649 26.0117816925048,44.5175361633301 26.0120830535889,44.5170288085937 26.0127983093262,44.5173988342286 26.0136184692384,44.5164108276368 26.0246105194093,44.5209274291993 26.0257873535157,44.5212135314942 26.0251388549805,44.5220413208008 26.0242042541505,44.5216712951661 26.0229930877686,44.5230712890626 26.0237941741944,44.5233802795411 26.0232372283936,44.5244636535645 26.0237293243409,44.5247650146485 26.0240097045898,44.5256233215333 26.024871826172,44.526782989502 26.0259037017822,44.5277252197266 26.0302371978761,44.5289726257324 26.0345535278321,44.5247039794922 26.0467491149902,44.5296821594239 26.0460548400879,44.5304145812989 26.0448055267335,44.5321960449219 26.0493736267091,44.5331039428711 26.0495681762695,44.5317420959473 26.0501461029053,44.5319252014161 26.0506134033204,44.5308799743652 26.053680419922,44.5319252014161 26.0681304931641,44.5353469848633 26.0682964324952,44.5396461486816 26.0698966979981,44.5401382446289 26.073522567749,44.5426025390625 26.0787715911866,44.5420455932617 26.0799827575684,44.5383033752441 26.0831737518312,44.5384635925294 26.0870342254638,44.5392150878906 26.0907459259033,44.5392112731935 26.0967197418213,44.5396919250488 26.0963573455812,44.5415916442871 26.097993850708,44.5416069030762 26.0981845855712,44.5422706604005 26.102029800415,44.5423889160156 26.1021499633788,44.5416946411133 26.1029014587403,44.5417480468751 26.1030941009521,44.5402297973633 26.1048946380616,44.5402221679688 26.1033840179444,44.5299835205079 26.104923248291,44.5272521972657 26.1039505004883,44.5202369689941 26.1054058074951,44.5200309753418 26.1049365997315,44.5186462402344 26.1065235137941,44.5183792114258 26.1058578491212,44.5160751342773 26.1040477752686,44.5160331726074 26.103214263916,44.5089797973634 26.1047630310059,44.504665374756 26.1110553741456,44.5057106018066 26.1122570037842,44.503833770752 26.1046714782716,44.5022010803224 26.1086196899415,44.4960899353028 26.1107120513917,44.4971160888672 26.1127338409424,44.4924926757813 26.1113910675049,44.4915275573732 26.1159591674805,44.4879722595215 26.1245479583741,44.4869689941407 26.1864280700684,44.4803924560548 26.1863708496094,44.4797630310059 26.1844291687013,44.4798469543458 26.182523727417,44.479518890381 26.1801681518555,44.4787521362305 26.1773891448976,44.4765701293946 26.1759567260742,44.4753913879395 26.1745357513429,44.4742126464844 26.1731243133545,44.473030090332 26.1717185974121,44.4718437194825 26.1703186035157,44.4706535339356 26.1689262390137,44.4694595336915 26.1675415039064,44.46826171875 26.1661663055421,44.4670600891114 26.1654834747316,44.4659957885743 26.164270401001,44.4647827148438 26.1630744934083,44.4635772705079 26.16188621521,44.4623680114747 26.160707473755,44.4611587524414 26.1595344543458,44.4599418640137 26.1583709716798,44.4587211608888 26.1572151184082,44.4574966430665 26.1560649871827,44.4562683105469 26.1581497192383,44.4547576904297 26.1589851379395,44.4546585083007 26.1595382690431,44.4536056518555 26.1601505279542,44.4533157348632 26.1611843109132,44.4543495178224 26.1622486114503,44.4544944763184 26.1633739471436,44.4535026550294 26.1648368835449,44.4537086486817 26.1660251617432,44.4536056518555 26.1672782897949,44.4523582458497 26.167974472046,44.4518737792969 26.1689014434816,44.4518356323242 26.1701526641846,44.4526443481446 26.1705493927003,44.4527473449708 26.1709480285645,44.4528427124024 26.1713485717775,44.4529342651367 26.1717510223389,44.4530220031739 26.1721572875977,44.4531021118165 26.1725654602052,44.4531745910646 26.1729755401611,44.4532432556152 26.1733875274658,44.4533042907715 26.1745052337647,44.4540519714355 26.1754741668702,44.4539489746094 26.1762771606446,44.4543495178224 26.1772918701171,44.4542770385742 26.1776351928712,44.4516792297364 26.1770954132081,44.4512443542481 26.176763534546,44.4500122070313 26.1738739013672,44.4468612670898 26.1748867034913,44.4447021484376 26.1757659912109,44.4445037841798 26.178316116333,44.446216583252 26.1796474456788,44.4465179443359 26.1838264465333,44.4459037780762 26.1863174438477,44.4448013305664 26.1890983581544,44.4449310302734 26.1897296905519,44.4456520080566 26.1902866363527,44.4468803405763 26.1916313171387,44.447940826416 26.1927299499512,44.4476432800294 26.1950397491456,44.4463539123535 26.1973781585694,44.4429588317871 26.1984424591065,44.443229675293 26.2010974884034,44.4457321166992 26.2018013000488,44.4455986022949 26.2036781311036,44.4446601867676 26.2050247192383,44.4436683654786 26.2063751220704,44.4449501037598 26.2064342498779,44.4455795288087 26.2060432434082,44.4459953308105 26.2041854858398,44.4456977844239 26.202907562256,44.4457435607911 26.201545715332,44.4461364746094 26.2035255432128,44.4479827880859 26.204683303833,44.4484748840332 26.2055225372316,44.4484672546387 26.2074508666992,44.4479103088379 26.2087879180909,44.4464073181152 26.20876121521,44.445110321045 26.2076110839845,44.44291305542 26.2077445983887,44.4408226013183 26.209135055542,44.4397659301759 26.2105445861818,44.4397201538087 26.2118339538575,44.4402427673341 26.2136459350587,44.4403495788575 26.2202529907227,44.4398345947266 26.2218894958496,44.4395637512208 26.2239952087402,44.4410247802735 26.2251472473145,44.4414253234863 26.2265987396241,44.4410591125488 26.2281188964844,44.4399375915527 26.2328090667725,44.4385566711426 26.233798980713,44.438117980957 26.2343292236328,44.4374656677247 26.2340526580812,44.4327278137208 26.231035232544,44.4296760559083 26.2299652099609,44.4292144775391 26.2266635894776,44.4294090270996 26.2263164520264,44.4297904968262 26.2253589630128,44.4324569702149 26.2226295471191,44.4263839721681 26.2207775115967,44.4264678955078 26.2243652343751,44.4250679016114 26.2230262756348,44.4222068786622 26.2223644256592,44.4221534729004 26.2208709716797,44.4183731079103 26.2178802490236,44.4187202453613 26.2176055908203,44.4180221557618 26.217981338501,44.4135322570802 26.2183094024659,44.4096069335939 26.2173442840576,44.407657623291 26.2133560180664,44.4067840576171 26.2084999084473,44.4064559936523 26.207525253296,44.4041595458984 26.2084445953369,44.4038009643555 26.2076015472412,44.4035263061525 26.2049465179443,44.3988418579102 26.2019023895264,44.3986854553223 26.2022819519044,44.3957099914551 26.1794548034669,44.3948478698732 26.1614494323731,44.3995552062989 26.1558132171631,44.3907852172852 26.154245376587,44.3894119262696 26.1501731872559,44.381862640381 26.1473655700684,44.3781623840333 26.143404006958,44.3738403320312 26.1447143554688,44.3732872009278 26.1425933837891,44.3704833984376 26.1601791381836,44.3467445373536 26.1634197235108,44.3480377197265 26.1671161651612,44.3434791564942 26.1557273864747,44.3400573730469 26.1564521789551,44.338752746582 26.155954360962,44.3381881713868 26.1556510925292,44.3362312316895 26.1547565460206,44.3359680175782 26.1512241363525,44.3349189758302 26.148344039917,44.3363380432129 26.1477489471436,44.3373260498048 26.1456031799316,44.3379173278809 26.1404342651368,44.3372116088867 26.1383247375488,44.3396644592286 26.1388664245605,44.3402938842774 26.129487991333,44.3556747436523 26.1236324310304,44.3559532165527 26.1200485229493,44.3564338684083 26.118112564087,44.3564834594727 26.1144027709961,44.360694885254 26.1120147705079,44.362518310547 26.1129760742189,44.3666496276855 26.0976200103759,44.3688201904296 26.0967235565187,44.3655738830567 26.0974674224854,44.3652496337891 26.0969524383544,44.3637390136719 26.0961227416993,44.3617553710939 26.0942630767823,44.3612670898438 26.093547821045,44.3677215576172 26.091407775879,44.368724822998 26.0914230346681,44.3695449829103 26.0886344909669,44.3701667785645 26.0868148803712,44.3705711364747 26.0822429656984,44.3710899353028 26.0701351165772,44.3739852905273 26.0452461242676,44.3796081542969 26.0386962890625,44.3854370117188 26.0386962890625";

  let result = coordinates_str.split(","); //split the coordinates string into string by the ","
  let x = new Array();
  for(let i = 0; i < result.length; i++) {  //split the string of coordinates into array of coordinates, and result an array of strings, each string having a pair lat lng
  	let y = result[i];                      //ex: ["44.3695449829103 26.0886344909669","44.3701667785645 26.0868148803712", ...]
  	x.push(y);
  }

//define the Bucharest sectors
let sector1 = new Array();
let sector2 = new Array();
let sector3 = new Array();
let sector4 = new Array();
let sector5 = new Array();
let sector6 = new Array();

//define center of Bucharest
let center = {
      lat: 44.439663,
      lng: 26.096306
    };


for (let z = 0; z < x.length; z++){ //split the pair coordinates into lat, lng pairs type object and convert them into float number
	let a = x[z].split(" ");          //ex: [{lat: 44.3695449829103, lng: 26.0886344909669}, ...]
	let d = {                         //count the total number of coordinates and divide them by 6, in order to have the 6 sectors
		lat: parseFloat(a[0]),
		lng: parseFloat(a[1])
	}
	if(z < 60) {                     //create sector6  && if reached the end, connect to the center to create the "pizza" slice
		sector6.push(d);
	}else if (z == 60){
		sector6.push(center);
	}

	if (z > 60 && z < 120) {         //create sector1
		sector1.push(d);
	}else if (z == 120){
		sector1.push(center);
	}

	if (z > 120 && z < 180) {        //create sector2
		sector2.push(d);
	}else if (z == 180){
		sector2.push(center);
	}

	if (z > 180 && z < 240) {        //create sector3
		sector3.push(d);
	}else if (z == 180){
		sector3.push(center);
	}
	if (z > 240 && z < 300) {        //create sector4
		sector4.push(d);
	}else if (z == 300){
		sector4.push(center);
	}

	if (z > 300 && z < 355) {        //create sector5
		sector5.push(d);
	}else if (z == 356){
		sector5.push(center);
	}
}



 let map;

 function initializationCallBack(){      //initializae the callback function
   map = new google.maps.Map(            //
     document.getElementById("google-map-container"), {
     center: {
       lat: 44.439663,
       lng: 26.096306
     },
     zoom: 11
   });
   function addPoly(coords,color){        //function to create the poligons/sectors

   let BucharestPolygon = new google.maps.Polygon({

 		paths: coords,
 		strokeColor: color,
 		strokeOpacity: 1,
 		strokeWeight: 3,
 		fillColor: color,
 		fillOpacity: 0.5

 	  });

 	  return BucharestPolygon;
   	};

 	var Sector1 = addPoly(sector1, "red");
 	Sector1.setMap(map);
 	var Sector2 = addPoly(sector2, "orange");
 	Sector2.setMap(map);
 	var Sector3 = addPoly(sector3, "yellow");
 	Sector3.setMap(map);
 	var Sector4 = addPoly(sector4, "green");
 	Sector4.setMap(map);
 	var Sector5 = addPoly(sector5, "blue");
 	Sector5.setMap(map);
 	var Sector6 = addPoly(sector6, "indigo");
 	Sector6.setMap(map);

 }
